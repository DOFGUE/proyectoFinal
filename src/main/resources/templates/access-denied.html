<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acceso Denegado</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body class="bg-light d-flex align-items-center justify-content-center" style="min-height: 100vh;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card shadow-lg border-danger">
                    <div class="card-body p-5 text-center">
                        <div class="mb-4">
                            <i class="bi bi-exclamation-triangle-fill text-danger" style="font-size: 4rem;"></i>
                        </div>
                        
                        <h1 class="card-title mb-3">Acceso Denegado</h1>
                        <p class="text-muted mb-4">
                            <span th:if="${isAuthenticated}">
                                No tienes permisos para acceder a esta página.
                            </span>
                            <span th:if="${!isAuthenticated}">
                                Debes iniciar sesión para acceder a este contenido.
                            </span>
                        </p>

                        <div class="alert alert-info mb-4">
                            <strong>Información:</strong><br>
                            <small th:if="${isAuthenticated}">
                                Tu rol: <span th:text="${userRole}"></span>
                            </small>
                            <small th:if="${!isAuthenticated}">
                                Por favor inicia sesión con tu cuenta.
                            </small>
                        </div>

                        <div class="d-grid gap-2">
                            <button class="btn btn-primary" onclick="window.history.back()">
                                <i class="bi bi-arrow-left"></i> Volver Atrás
                            </button>

                            <a th:if="${!isAuthenticated}" href="/home" class="btn btn-success">
                                <i class="bi bi-house"></i> Ir al Inicio
                            </a>

                            <a th:if="${isAuthenticated && userRole == 'ROLE_USER'}" href="/user/home" class="btn btn-success">
                                <i class="bi bi-house"></i> Mi Dashboard
                            </a>

                            <a th:if="${isAuthenticated && userRole == 'ROLE_ADMIN'}" href="/admin/home" class="btn btn-success">
                                <i class="bi bi-house"></i> Panel Administrativo
                            </a>

                            <a href="/logout" class="btn btn-outline-danger">
                                <i class="bi bi-box-arrow-right"></i> Cerrar Sesión
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
